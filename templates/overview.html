<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule Overview - WhatsApp Scheduler</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üì± WhatsApp Scheduler</h1>
            <nav class="main-nav">
                <a href="/" class="nav-link">Home</a>
                <a href="/add" class="nav-link">Add Schedule</a>
                <a href="/send_now" class="nav-link">Send Now</a>
                <a href="/overview" class="nav-link active">Overview</a>
            </nav>
        </header>

        <div class="content">
            <div class="form-card">
                <h2>üìã Complete Schedule Overview</h2>
                
                {% if schedules %}
                    <div class="schedule-list">
                        {% for schedule in schedules %}
                            <div class="schedule-item">
                                <h3>
                                    {% if schedule.type == 'message' %}
                                        üí¨
                                    {% else %}
                                        üìä
                                    {% endif %}
                                    {{ schedule.contact }}
                                </h3>
                                <p><strong>Type:</strong> {{ schedule.type|capitalize }}</p>
                                <p><strong>Time:</strong> ‚è∞ {{ schedule.time }}</p>
                                <p><strong>Repeat:</strong> {{ schedule.recurring or 'Once' }}</p>
                                
                                {% if schedule.type == 'message' %}
                                    <p style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #eee;">
                                        <strong>Message:</strong><br>
                                        <small style="white-space: pre-wrap;">{{ schedule.message }}</small>
                                    </p>
                                {% else %}
                                    <p style="margin-top: 10px; padding-top: 10px; border-top: 1px solid #eee;">
                                        <strong>Question:</strong><br>
                                        <small>{{ schedule.question }}</small>
                                    </p>
                                    <p>
                                        <strong>Options:</strong>
                                        {% for option in schedule.options %}
                                            <br><small>‚Ä¢ {{ option }}</small>
                                        {% endfor %}
                                    </p>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                    <div style="margin-top: 20px; text-align: center;">
                        <p style="color: #666;">Total: <strong>{{ schedules|length }}</strong> schedule{{ 's' if schedules|length != 1 else '' }}</p>
                    </div>
                {% else %}
                    <div style="text-align: center; padding: 40px;">
                        <p style="font-size: 16px; color: #666;">No schedules configured yet.</p>
                        <a href="/add" class="btn btn-primary" style="margin-top: 15px; display: inline-block;">+ Create Your First Schedule</a>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</body>
</html>
